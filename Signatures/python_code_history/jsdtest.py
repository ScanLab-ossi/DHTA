import numpy as np
from scipy.spatial.distance import pdist, squareform, jensenshannon

# Sample data: each row represents a probability distribution
data = np.array([
    [0.0026176526333333, 0.0032809171, 0.0199930084666666, 0.3039135356333333, 0.0194712654666666, 0.0712593995333333, 0.0254569589333333, 0.0022595191, 0.0211992707333333, 0.0457486245666666, 0.0446275642333333, 0.0071236388333333, 0.0017981281999999, 0.0012280231333333, 0.001022777, 0.0024682614333333, 0.0246658895666666, 0.0087111634666666, 0.0575575027666666, 0.0173775603333333, 0.0053175714333333, 0.0072578576333333, 0.0528678873, 0.1556181686999999, 0.0096164945999999, 0.0048331239, 0.0017805711666666, 0.0083915299, 0.0247633793333333, 0.0162162425333333, 0.0315565127333333],
    [0.00382235, 0.002674494, 0.012882241, 0.277173491, 0.01380849, 0.071067658, 0.023264189, 0.002672104, 0.01519089, 0.06652242, 0.042611563, 0.010580784, 0.001289865, 0.001265484, 0.0011539, 0.00282921, 0.007722207, 0.008559506, 0.076249475, 0.019308953, 0.006949203, 0.009932623, 0.06904144, 0.13218732, 0.017390483, 0.003381457, 0.002021002, 0.015073469, 0.025570036, 0.016976774, 0.040826921],
    [0.001618841, 0.003096197, 0.027739991, 0.332433353, 0.025316564, 0.071474538, 0.026828483, 0.003088363, 0.026995897, 0.031331799, 0.046613843, 0.004753978, 0.002156678, 0.000907477, 0.000165694, 0.002098689, 0.019032228, 0.007881548, 0.048075245, 0.012617431, 0.003892759, 0.004991571, 0.040106646, 0.178398005, 0.005219801, 0.006319301, 0.001527606, 0.004443168, 0.022805015, 0.014194907, 0.023874384]
])

# Normalize each row to ensure they sum to 1 (if they are not already probability distributions)
data = data / data.sum(axis=1, keepdims=True)

# Calculate pairwise Jensen-Shannon distance
js_distances = pdist(data, metric=lambda u, v: jensenshannon(u, v, base=2))

# Convert the condensed distance matrix into a square matrix (optional)
distance_matrix = squareform(js_distances)

# Convert the distances into a list
distance_list = js_distances.tolist()

# Output the results
print("Pairwise Jensen-Shannon Distances as a List:")
print(distance_list)